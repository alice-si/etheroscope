<div class="contractVarSelect">
    <table>
        <tr>
            <td class="search-bar">
                <input type="text" id="searchBar" #searchBar (keyup.enter)="exploreContract(searchBar.value)" value="{{placeholder}}" (keyup)="searchContracts(searchBar.value)" autofocus>
                <div id="button-wrapper">
                    <clr-icon *ngIf="displayBadExploreRequestWarning" class="alert-icon is-error" shape="exclamation-triangle" size="24"></clr-icon>
                </div>
                <div id="matches" *ngFor="let match of matches">
                    {{match.contractHash}} {{match.name}}
                </div>
            </td>
            <td class="search-button">
                <button type="button" class="btn btn-primary" (click)="exploreContract(searchBar.value)">
          <clr-icon shape="search" size="24"></clr-icon>
          </button>
            </td>
        </tr>
    </table>
</div>

<div class="no-graph" *ngIf="!displayGraph && !displayMethods">
    <p>
        <clr-icon shape="arrow" size="36"></clr-icon><br> First, enter a contract to explore. This must be a contract hash.<br> Click <u><a (click)="exploreContract(contractHash[0].hash)">here</a></u> to see an example!<br><br><br><br>
        <clr-icon shape="scroll" size="36"></clr-icon>
        <clr-icon shape="arrow" dir="right" size="36"></clr-icon>
        <clr-icon shape="scroll" size="36"></clr-icon>
        <clr-icon shape="arrow" dir="right" size="36"></clr-icon>
        <clr-icon shape="scroll" size="36"></clr-icon>
        <clr-icon shape="arrow" dir="right" size="36"></clr-icon>
        <clr-icon shape="scroll" size="36"></clr-icon>
        <clr-icon shape="arrow" dir="right" size="36"></clr-icon>
        <clr-icon shape="scroll" size="36"></clr-icon>
        <clr-icon shape="arrow" dir="right" size="36"></clr-icon>
        <clr-icon shape="scroll" size="36"></clr-icon> <br><br> Each block in the blockchain comes with a unique hash.<br> However, make sure that the hash is associated with a smart contract.
    </p>
    <br>
</div>

<table *ngIf="displayMethods" class="graph-table">
    <tr>
        <td class="graph-td">
            <ngx-charts-line-chart class="graph-area" *ngIf="displayGraph" [view]="view" [scheme]="colorScheme" [results]="multi" [gradient]="gradient" [xAxis]="showXAxis" [yAxis]="showYAxis" [legend]="showLegend" [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel" [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [timeline]=true [autoScale]="autoScale" (select)="onSelect($event)">
            </ngx-charts-line-chart>
            <div class="no-graph-but-var" *ngIf="!displayGraph">
                <p> Then choose a variable you want to look at
                    <clr-icon shape="arrow" size="36" dir="right"></clr-icon><br><br> </p>
                <p>A smart contract may come with certain publicly exposed variables.<br>For example, a charity might make public the amount of money it has donated.<br>Choose a variable you want to see the history of.</p>
            </div>
        </td>
        <td class="cards-td" align="right">
            <div class="card" id="variables">
                <div class="card-header">
                    Select a variable to track
                </div>
                <div class="card-block">
                    <div class="card-text">
                        <button type="button" class="btn btn-primary btn-sm" *ngFor="let m of methods" (click)="generateDatapoints(m)">{{m}}</button>
                    </div>
                </div>
            </div>
            <div class="card currViewing" *ngIf="displayGraph">
                <div class="card-header">
                    Currently Viewing...
                </div>
                <div class="card-block">
                    <div class="card-text">
                        Variable: {{this.lastMethod}}
                    </div>
                    <div class="card-text" *ngFor="let filter of datapointFilters; let i = index">
                        {{filter.message}}
                        <clr-icon shape="times" style="cursor:pointer;" (click)="deleteFilter(i)"></clr-icon>
                    </div>
                </div>
            </div>
            <div class="card filters" *ngIf="displayGraph">
                <div class="card-header">
                    Filter datapoints...
                </div>
                <div class="card-block">
                    <div class="card-text" style="text-align: left">
                        <form #f="ngForm" (ngSubmit)="newFilterFromForm(f.value)">
                            <section class="form-block">
                                <label>
                                    On the last:
                                </label>
                                <div class="btn-group btn-primary btn-icon">
                                    <button class="btn btn-primary" (click)="filterOnLast(1, 'hour')">1H</button>
                                    <button class="btn btn-primary" (click)="filterOnLast(12, 'hour')">12H</button>
                                    <button class="btn btn-primary" (click)="filterOnLast(1, 'day')">1D</button>
                                    <button class="btn btn-primary" (click)="filterOnLast(1, 'week')">1W</button>
                                    <button class="btn btn-primary" (click)="filterOnLast(1, 'month')">1M</button>
                                    <button class="btn btn-primary" (click)="filterOnLast(1, 'year')">1Y</button>
                                </div>
                                <label>
                                        Between dates:
                                    </label>
                                <div class="form-group">
                                    <label for="startDate">
                                            Starting from date:
                                        </label>
                                    <input type="datetime-local" id="startDate" size="35" name="startDate" ngModel>
                                </div>
                                <div class="form-group">
                                    <label for="endDate">
                                            Ending at date:
                                        </label>
                                    <input type="datetime-local" id="endDate" size="35" name="endDate" ngModel>
                                </div>
                            </section>
                            <button type="submit" class="btn btn-primary">
                                    Filter
                                </button>
                        </form>
                    </div>
                </div>
            </div>
        </td>
    </tr>
</table>

From : {{cachedFrom}} To: {{cachedTo}}